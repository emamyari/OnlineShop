{"ast":null,"code":"/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\n\n// Component Definition\nvar KTMenu = function KTMenu(elementId, options) {\n  // Main object\n  var the = this;\n  var init = false;\n\n  // Get element object\n  var element = KTUtil.getById(elementId);\n  var body = KTUtil.getBody();\n  if (!element) {\n    return;\n  }\n\n  // Default options\n  var defaultOptions = {\n    // scrollable area with Perfect Scroll\n    scroll: {\n      rememberPosition: false\n    },\n    // accordion submenu mode\n    accordion: {\n      slideSpeed: 200,\n      // accordion toggle slide speed in milliseconds\n      autoScroll: false,\n      // enable auto scrolling(focus) to the clicked menu item\n      autoScrollSpeed: 1200,\n      expandAll: true // allow having multiple expanded accordions in the menu\n    },\n\n    // dropdown submenu mode\n    dropdown: {\n      timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\n    }\n  };\n\n  ////////////////////////////\n  // ** Private Methods  ** //\n  ////////////////////////////\n\n  var Plugin = {\n    /**\r\n     * Run plugin\r\n     * @returns {KTMenu}\r\n     */\n    construct: function construct(options) {\n      if (KTUtil.data(element).has('menu')) {\n        the = KTUtil.data(element).get('menu');\n      } else {\n        // reset menu\n        Plugin.init(options);\n\n        // reset menu\n        Plugin.reset();\n\n        // build menu\n        Plugin.build();\n        KTUtil.data(element).set('menu', the);\n      }\n      return the;\n    },\n    /**\r\n     * Handles submenu click toggle\r\n     * @returns {KTMenu}\r\n     */\n    init: function init(options) {\n      the.events = [];\n      the.eventHandlers = {};\n\n      // merge default and user defined options\n      the.options = KTUtil.deepExtend({}, defaultOptions, options);\n\n      // pause menu\n      the.pauseDropdownHoverTime = 0;\n      the.uid = KTUtil.getUniqueID();\n    },\n    update: function update(options) {\n      // merge default and user defined options\n      the.options = KTUtil.deepExtend({}, defaultOptions, options);\n\n      // pause menu\n      the.pauseDropdownHoverTime = 0;\n\n      // reset menu\n      Plugin.reset();\n      the.eventHandlers = {};\n\n      // build menu\n      Plugin.build();\n      KTUtil.data(element).set('menu', the);\n    },\n    reload: function reload() {\n      // reset menu\n      Plugin.reset();\n\n      // build menu\n      Plugin.build();\n\n      // reset submenu props\n      Plugin.resetSubmenuProps();\n    },\n    /**\r\n     * Reset menu\r\n     * @returns {KTMenu}\r\n     */\n    build: function build() {\n      // General accordion submenu toggle\n      the.eventHandlers['event_1'] = KTUtil.on(element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion);\n\n      // Dropdown mode(hoverable)\n      if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\n        // dropdown submenu - hover toggle\n        the.eventHandlers['event_2'] = KTUtil.on(element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\n        the.eventHandlers['event_3'] = KTUtil.on(element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\n\n        // dropdown submenu - click toggle\n        the.eventHandlers['event_4'] = KTUtil.on(element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\n        the.eventHandlers['event_5'] = KTUtil.on(element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\n      }\n\n      // Handle general link click\n      the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick);\n\n      // Init scrollable menu\n      if (the.options.scroll && the.options.scroll.height) {\n        Plugin.scrollInit();\n      }\n    },\n    /**\r\n     * Reset menu\r\n     * @returns {KTMenu}\r\n     */\n    reset: function reset() {\n      KTUtil.off(element, 'click', the.eventHandlers['event_1']);\n\n      // dropdown submenu - hover toggle\n      KTUtil.off(element, 'mouseover', the.eventHandlers['event_2']);\n      KTUtil.off(element, 'mouseout', the.eventHandlers['event_3']);\n\n      // dropdown submenu - click toggle\n      KTUtil.off(element, 'click', the.eventHandlers['event_4']);\n      KTUtil.off(element, 'click', the.eventHandlers['event_5']);\n\n      // handle link click\n      KTUtil.off(element, 'click', the.eventHandlers['event_6']);\n    },\n    /**\r\n     * Init scroll menu\r\n     *\r\n    */\n    scrollInit: function scrollInit() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollDestroy(element, true);\n        KTUtil.scrollInit(element, {\n          mobileNativeScroll: true,\n          windowScroll: false,\n          resetHeightOnDestroy: true,\n          handleWindowResize: true,\n          height: the.options.scroll.height,\n          rememberPosition: the.options.scroll.rememberPosition\n        });\n      } else {\n        KTUtil.scrollDestroy(element, true);\n      }\n    },\n    /**\r\n     * Update scroll menu\r\n    */\n    scrollUpdate: function scrollUpdate() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollUpdate(element);\n      }\n    },\n    /**\r\n     * Scroll top\r\n    */\n    scrollTop: function scrollTop() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollTop(element);\n      }\n    },\n    /**\r\n     * Get submenu mode for current breakpoint and menu state\r\n     * @returns {KTMenu}\r\n     */\n    getSubmenuMode: function getSubmenuMode(el) {\n      if (KTUtil.isBreakpointUp('lg')) {\n        if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\n          return 'dropdown';\n        }\n        if (KTUtil.isset(the.options.submenu, 'desktop.state.body')) {\n          if (KTUtil.hasClasses(body, the.options.submenu.desktop.state.body)) {\n            return the.options.submenu.desktop.state.mode;\n          } else {\n            return the.options.submenu.desktop.default;\n          }\n        } else if (KTUtil.isset(the.options.submenu, 'desktop')) {\n          return the.options.submenu.desktop;\n        }\n      } else if (KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet')) {\n        return the.options.submenu.tablet;\n      } else if (KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile')) {\n        return the.options.submenu.mobile;\n      } else {\n        return false;\n      }\n    },\n    /**\r\n     * Get submenu mode for current breakpoint and menu state\r\n     * @returns {KTMenu}\r\n     */\n    isConditionalSubmenuDropdown: function isConditionalSubmenuDropdown() {\n      if (KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body')) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    /**\r\n     * Reset submenu attributes\r\n     * @returns {KTMenu}\r\n     */\n    resetSubmenuProps: function resetSubmenuProps(e) {\n      var submenus = KTUtil.findAll(element, '.menu-submenu');\n      if (submenus) {\n        for (var i = 0, len = submenus.length; i < len; i++) {\n          var submenu = submenus[0];\n          KTUtil.css(submenu, 'display', '');\n          KTUtil.css(submenu, 'overflow', '');\n          if (submenu.hasAttribute('data-hor-direction')) {\n            KTUtil.removeClass(submenu, 'menu-submenu-left');\n            KTUtil.removeClass(submenu, 'menu-submenu-right');\n            KTUtil.addClass(submenu, submenu.getAttribute('data-hor-direction'));\n          }\n        }\n      }\n    },\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDrodownHoverEnter: function handleSubmenuDrodownHoverEnter(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n      if (the.resumeDropdownHover() === false) {\n        return;\n      }\n      var item = this;\n      if (item.getAttribute('data-hover') == '1') {\n        item.removeAttribute('data-hover');\n        clearTimeout(item.getAttribute('data-timeout'));\n        item.removeAttribute('data-timeout');\n      }\n      Plugin.showSubmenuDropdown(item);\n    },\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDrodownHoverExit: function handleSubmenuDrodownHoverExit(e) {\n      if (the.resumeDropdownHover() === false) {\n        return;\n      }\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n      var item = this;\n      var time = the.options.dropdown.timeout;\n      var timeout = setTimeout(function () {\n        if (item.getAttribute('data-hover') == '1') {\n          Plugin.hideSubmenuDropdown(item, true);\n        }\n      }, time);\n      item.setAttribute('data-hover', '1');\n      item.setAttribute('data-timeout', timeout);\n    },\n    /**\r\n     * Handles submenu click toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownClick: function handleSubmenuDropdownClick(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n      var item = this.closest('.menu-item');\n\n      // Trigger click event handlers\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n      if (result === false) {\n        return;\n      }\n      if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\n        return;\n      }\n      if (KTUtil.hasClass(item, 'menu-item-hover') === false) {\n        KTUtil.addClass(item, 'menu-item-open-dropdown');\n        Plugin.showSubmenuDropdown(item);\n      } else {\n        KTUtil.removeClass(item, 'menu-item-open-dropdown');\n        Plugin.hideSubmenuDropdown(item, true);\n      }\n      e.preventDefault();\n    },\n    /**\r\n     * Handles tab click toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownTabClick: function handleSubmenuDropdownTabClick(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n      var item = this.closest('.menu-item');\n\n      // Trigger click event handlers\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n      if (result === false) {\n        return;\n      }\n      if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\n        return;\n      }\n      if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\n        KTUtil.addClass(item, 'menu-item-open-dropdown');\n        Plugin.showSubmenuDropdown(item);\n      }\n      e.preventDefault();\n    },\n    /**\r\n     * Handles link click\r\n     * @returns {KTMenu}\r\n     */\n    handleLinkClick: function handleLinkClick(e) {\n      var submenu = this.closest('.menu-item.menu-item-submenu');\n\n      // Trigger click event handlers\n      var result = Plugin.eventTrigger('linkClick', this, e);\n      if (result === false) {\n        return;\n      }\n      if (submenu && Plugin.getSubmenuMode(submenu) === 'dropdown') {\n        Plugin.hideSubmenuDropdowns();\n      }\n    },\n    /**\r\n     * Handles submenu dropdown close on link click\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownClose: function handleSubmenuDropdownClose(e, el) {\n      // exit if its not submenu dropdown mode\n      if (Plugin.getSubmenuMode(el) === 'accordion') {\n        return;\n      }\n      var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)');\n\n      // check if currently clicked link's parent item ha\n      if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\n        // close opened dropdown menus\n        for (var i = 0, len = shown.length; i < len; i++) {\n          Plugin.hideSubmenuDropdown(shown[0], true);\n        }\n      }\n    },\n    /**\r\n     * helper functions\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuAccordion: function handleSubmenuAccordion(e, el) {\n      var query;\n      var item = el ? el : this;\n\n      // Trigger click event handlers\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n      if (result === false) {\n        return;\n      }\n      if (Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item'))) {\n        if (query.getAttribute('data-menu-submenu-mode') != 'accordion') {\n          e.preventDefault();\n          return;\n        }\n      }\n      var li = item.closest('.menu-item');\n      var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\n      if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\n        return;\n      }\n      if (li && submenu) {\n        e.preventDefault();\n        var speed = the.options.accordion.slideSpeed;\n        var hasClosables = false;\n        if (KTUtil.hasClass(li, 'menu-item-open') === false) {\n          // hide other accordions\n          if (the.options.accordion.expandAll === false) {\n            var subnav = item.closest('.menu-nav, .menu-subnav');\n            var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\n            if (subnav && closables) {\n              for (var i = 0, len = closables.length; i < len; i++) {\n                var el_ = closables[0];\n                var submenu_ = KTUtil.child(el_, '.menu-submenu');\n                if (submenu_) {\n                  KTUtil.slideUp(submenu_, speed, function () {\n                    Plugin.scrollUpdate();\n                    KTUtil.removeClass(el_, 'menu-item-open');\n                  });\n                }\n              }\n            }\n          }\n          KTUtil.slideDown(submenu, speed, function () {\n            Plugin.scrollToItem(item);\n            Plugin.scrollUpdate();\n            Plugin.eventTrigger('submenuToggle', submenu, e);\n          });\n          KTUtil.addClass(li, 'menu-item-open');\n        } else {\n          KTUtil.slideUp(submenu, speed, function () {\n            Plugin.scrollToItem(item);\n            Plugin.scrollUpdate();\n            Plugin.eventTrigger('submenuToggle', submenu, e);\n          });\n          KTUtil.removeClass(li, 'menu-item-open');\n        }\n      }\n    },\n    /**\r\n     * scroll to item function\r\n     * @returns {KTMenu}\r\n     */\n    scrollToItem: function scrollToItem(item) {\n      // handle auto scroll for accordion submenus\n      if (KTUtil.isBreakpointUp('lg') && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1') {\n        KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\n      }\n    },\n    /**\r\n     * Hide submenu dropdown\r\n     * @returns {KTMenu}\r\n     */\n    hideSubmenuDropdown: function hideSubmenuDropdown(item, classAlso) {\n      // remove submenu activation class\n      if (classAlso) {\n        KTUtil.removeClass(item, 'menu-item-hover');\n        KTUtil.removeClass(item, 'menu-item-active-tab');\n      }\n\n      // clear timeout\n      item.removeAttribute('data-hover');\n      if (item.getAttribute('data-menu-toggle-class')) {\n        KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\n      }\n      var timeout = item.getAttribute('data-timeout');\n      item.removeAttribute('data-timeout');\n      clearTimeout(timeout);\n    },\n    /**\r\n     * Hide submenu dropdowns\r\n     * @returns {KTMenu}\r\n     */\n    hideSubmenuDropdowns: function hideSubmenuDropdowns() {\n      var items;\n      if (items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])')) {\n        for (var j = 0, cnt = items.length; j < cnt; j++) {\n          Plugin.hideSubmenuDropdown(items[j], true);\n        }\n      }\n    },\n    /**\r\n     * helper functions\r\n     * @returns {KTMenu}\r\n     */\n    showSubmenuDropdown: function showSubmenuDropdown(item) {\n      // close active submenus\n      var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\n      if (list) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          var el = list[i];\n          if (item !== el && el.contains(item) === false && item.contains(el) === false) {\n            Plugin.hideSubmenuDropdown(el, true);\n          }\n        }\n      }\n\n      // add submenu activation class\n      KTUtil.addClass(item, 'menu-item-hover');\n\n      // Change the alignment of submenu is offscreen.\n      var submenu = KTUtil.find(item, '.menu-submenu');\n      if (submenu && submenu.hasAttribute('data-hor-direction') === false) {\n        if (KTUtil.hasClass(submenu, 'menu-submenu-left')) {\n          submenu.setAttribute('data-hor-direction', 'menu-submenu-left');\n        } else if (KTUtil.hasClass(submenu, 'menu-submenu-right')) {\n          submenu.setAttribute('data-hor-direction', 'menu-submenu-right');\n        }\n      }\n      if (submenu && KTUtil.isOffscreen(submenu, 'left', 15) === true) {\n        KTUtil.removeClass(submenu, 'menu-submenu-left');\n        KTUtil.addClass(submenu, 'menu-submenu-right');\n      } else if (submenu && KTUtil.isOffscreen(submenu, 'right', 15) === true) {\n        KTUtil.removeClass(submenu, 'menu-submenu-right');\n        KTUtil.addClass(submenu, 'menu-submenu-left');\n      }\n      if (item.getAttribute('data-menu-toggle-class')) {\n        KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\n      }\n    },\n    /**\r\n     * Handles submenu slide toggle\r\n     * @returns {KTMenu}\r\n     */\n    createSubmenuDropdownClickDropoff: function createSubmenuDropdownClickDropoff(el) {\n      var query;\n      var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\n      var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\n      body.appendChild(dropoff);\n      KTUtil.addEvent(dropoff, 'click', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        KTUtil.remove(this);\n        Plugin.hideSubmenuDropdown(el, true);\n      });\n    },\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    pauseDropdownHover: function pauseDropdownHover(time) {\n      var date = new Date();\n      the.pauseDropdownHoverTime = date.getTime() + time;\n    },\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    resumeDropdownHover: function resumeDropdownHover() {\n      var date = new Date();\n      return date.getTime() > the.pauseDropdownHoverTime ? true : false;\n    },\n    /**\r\n     * Reset menu's current active item\r\n     * @returns {KTMenu}\r\n     */\n    resetActiveItem: function resetActiveItem(item) {\n      var list;\n      var parents;\n      list = element.querySelectorAll('.menu-item-active');\n      for (var i = 0, len = list.length; i < len; i++) {\n        var el = list[0];\n        KTUtil.removeClass(el, 'menu-item-active');\n        KTUtil.hide(KTUtil.child(el, '.menu-submenu'));\n        parents = KTUtil.parents(el, '.menu-item-submenu') || [];\n        for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\n          var el_ = parents[i];\n          KTUtil.removeClass(el_, 'menu-item-open');\n          KTUtil.hide(KTUtil.child(el_, '.menu-submenu'));\n        }\n      }\n\n      // close open submenus\n      if (the.options.accordion.expandAll === false) {\n        if (list = element.querySelectorAll('.menu-item-open')) {\n          for (var i = 0, len = list.length; i < len; i++) {\n            KTUtil.removeClass(parents[0], 'menu-item-open');\n          }\n        }\n      }\n    },\n    /**\r\n     * Sets menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    setActiveItem: function setActiveItem(item) {\n      // reset current active item\n      Plugin.resetActiveItem();\n      var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\n      for (var i = 0, len = parents.length; i < len; i++) {\n        KTUtil.addClass(parents[i], 'menu-item-open');\n      }\n      KTUtil.addClass(item, 'menu-item-active');\n    },\n    /**\r\n     * Returns page breadcrumbs for the menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    getBreadcrumbs: function getBreadcrumbs(item) {\n      var query;\n      var breadcrumbs = [];\n      var link = KTUtil.child(item, '.menu-link');\n      breadcrumbs.push({\n        text: query = KTUtil.child(link, '.menu-text') ? query.innerHTML : '',\n        title: link.getAttribute('title'),\n        href: link.getAttribute('href')\n      });\n      var parents = KTUtil.parents(item, '.menu-item-submenu');\n      for (var i = 0, len = parents.length; i < len; i++) {\n        var submenuLink = KTUtil.child(parents[i], '.menu-link');\n        breadcrumbs.push({\n          text: query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : '',\n          title: submenuLink.getAttribute('title'),\n          href: submenuLink.getAttribute('href')\n        });\n      }\n      return breadcrumbs.reverse();\n    },\n    /**\r\n     * Returns page title for the menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    getPageTitle: function getPageTitle(item) {\n      var query;\n      return query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '';\n    },\n    /**\r\n     * Trigger events\r\n     */\n    eventTrigger: function eventTrigger(name, target, e) {\n      for (var i = 0; i < the.events.length; i++) {\n        var event = the.events[i];\n        if (event.name == name) {\n          if (event.one == true) {\n            if (event.fired == false) {\n              the.events[i].fired = true;\n              return event.handler.call(this, target, e);\n            }\n          } else {\n            return event.handler.call(this, target, e);\n          }\n        }\n      }\n    },\n    addEvent: function addEvent(name, handler, one) {\n      the.events.push({\n        name: name,\n        handler: handler,\n        one: one,\n        fired: false\n      });\n    },\n    removeEvent: function removeEvent(name) {\n      if (the.events[name]) {\n        delete the.events[name];\n      }\n    }\n  };\n\n  //////////////////////////\n  // ** Public Methods ** //\n  //////////////////////////\n\n  /**\r\n   * Set default options\r\n   */\n\n  the.setDefaults = function (options) {\n    defaultOptions = options;\n  };\n\n  /**\r\n   * Update scroll\r\n   */\n  the.scrollUpdate = function () {\n    return Plugin.scrollUpdate();\n  };\n\n  /**\r\n   * Re-init scroll\r\n   */\n  the.scrollReInit = function () {\n    return Plugin.scrollInit();\n  };\n\n  /**\r\n   * Scroll top\r\n   */\n  the.scrollTop = function () {\n    return Plugin.scrollTop();\n  };\n\n  /**\r\n   * Set active menu item\r\n   */\n  the.setActiveItem = function (item) {\n    return Plugin.setActiveItem(item);\n  };\n  the.reload = function () {\n    return Plugin.reload();\n  };\n  the.update = function (options) {\n    return Plugin.update(options);\n  };\n\n  /**\r\n   * Set breadcrumb for menu item\r\n   */\n  the.getBreadcrumbs = function (item) {\n    return Plugin.getBreadcrumbs(item);\n  };\n\n  /**\r\n   * Set page title for menu item\r\n   */\n  the.getPageTitle = function (item) {\n    return Plugin.getPageTitle(item);\n  };\n\n  /**\r\n   * Get submenu mode\r\n   */\n  the.getSubmenuMode = function (el) {\n    return Plugin.getSubmenuMode(el);\n  };\n\n  /**\r\n   * Hide dropdown\r\n   * @returns {Object}\r\n   */\n  the.hideDropdown = function (item) {\n    Plugin.hideSubmenuDropdown(item, true);\n  };\n\n  /**\r\n   * Hide dropdowns\r\n   * @returns {Object}\r\n   */\n  the.hideDropdowns = function () {\n    Plugin.hideSubmenuDropdowns();\n  };\n\n  /**\r\n   * Disable menu for given time\r\n   * @returns {Object}\r\n   */\n  the.pauseDropdownHover = function (time) {\n    Plugin.pauseDropdownHover(time);\n  };\n\n  /**\r\n   * Disable menu for given time\r\n   * @returns {Object}\r\n   */\n  the.resumeDropdownHover = function () {\n    return Plugin.resumeDropdownHover();\n  };\n\n  /**\r\n   * Register event\r\n   */\n  the.on = function (name, handler) {\n    return Plugin.addEvent(name, handler);\n  };\n  the.off = function (name) {\n    return Plugin.removeEvent(name);\n  };\n  the.one = function (name, handler) {\n    return Plugin.addEvent(name, handler, true);\n  };\n\n  ///////////////////////////////\n  // ** Plugin Construction ** //\n  ///////////////////////////////\n\n  // Run plugin\n  Plugin.construct.apply(the, [options]);\n\n  // Handle plugin on window resize\n  KTUtil.addResizeHandler(function () {\n    if (init) {\n      the.reload();\n    }\n  });\n\n  // Init done\n  init = true;\n\n  // Return plugin instance\n  return the;\n};\n\n// webpack support\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  // module.exports = KTMenu;\n}\n\n// Plugin global lazy initialization\ndocument.addEventListener(\"click\", function (e) {\n  var body = KTUtil.getByTagName('body')[0];\n  var query;\n  if (query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]')) {\n    for (var i = 0, len = query.length; i < len; i++) {\n      var element = query[i].closest('.menu-nav').parentNode;\n      if (element) {\n        var the = KTUtil.data(element).get('menu');\n        if (!the) {\n          break;\n        }\n        if (!the || the.getSubmenuMode() !== 'dropdown') {\n          break;\n        }\n        if (e.target !== element && element.contains(e.target) === false) {\n          the.hideDropdowns();\n        }\n      }\n    }\n  }\n});\nexport default KTMenu;","map":{"version":3,"names":["KTUtil","KTMenu","elementId","options","the","init","element","getById","body","getBody","defaultOptions","scroll","rememberPosition","accordion","slideSpeed","autoScroll","autoScrollSpeed","expandAll","dropdown","timeout","Plugin","construct","data","has","get","reset","build","set","events","eventHandlers","deepExtend","pauseDropdownHoverTime","uid","getUniqueID","update","reload","resetSubmenuProps","on","handleSubmenuAccordion","getSubmenuMode","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","height","scrollInit","off","scrollDestroy","mobileNativeScroll","windowScroll","resetHeightOnDestroy","handleWindowResize","scrollUpdate","scrollTop","el","isBreakpointUp","hasAttr","attr","isset","submenu","hasClasses","desktop","state","mode","default","isBreakpointDown","tablet","mobile","e","submenus","findAll","i","len","length","css","hasAttribute","removeClass","addClass","getAttribute","resumeDropdownHover","item","removeAttribute","clearTimeout","showSubmenuDropdown","time","setTimeout","hideSubmenuDropdown","setAttribute","closest","result","eventTrigger","hasClass","preventDefault","hideSubmenuDropdowns","handleSubmenuDropdownClose","shown","querySelectorAll","query","li","child","speed","hasClosables","subnav","closables","children","el_","submenu_","slideUp","slideDown","scrollToItem","scrollTo","classAlso","items","j","cnt","list","contains","find","isOffscreen","createSubmenuDropdownClickDropoff","zIndex","dropoff","document","createElement","appendChild","addEvent","stopPropagation","remove","pauseDropdownHover","date","Date","getTime","resetActiveItem","parents","hide","i_","len_","setActiveItem","getBreadcrumbs","breadcrumbs","link","push","text","innerHTML","title","href","submenuLink","reverse","getPageTitle","name","target","event","one","fired","handler","call","removeEvent","setDefaults","scrollReInit","hideDropdown","hideDropdowns","apply","addResizeHandler","module","exports","addEventListener","getByTagName","parentNode"],"sources":["D:/Metronic 7.2.9/theme/react/OnlineShop/src/_metronic/_assets/js/components/menu.js"],"sourcesContent":["/* eslint-disable */\r\n\"use strict\";\r\n\r\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // Handle general link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element, true);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element, true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isBreakpointUp('lg') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.menu-submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    var submenu = submenus[0];\r\n\r\n                    KTUtil.css(submenu, 'display', '');\r\n                    KTUtil.css(submenu, 'overflow', '');\r\n\r\n                    if (submenu.hasAttribute('data-hor-direction')) {\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                        KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                        KTUtil.addClass(submenu, submenu.getAttribute('data-hor-direction'));\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'menu-item-hover') === false ) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'menu-item-open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.menu-item.menu-item-submenu');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item') ) ) {\r\n                if (query.getAttribute('data-menu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.menu-item');\r\n            var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'menu-item-open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.menu-nav, .menu-subnav');\r\n                        var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.menu-submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'menu-item-open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'menu-item-open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'menu-item-open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isBreakpointUp('lg')  && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'menu-item-hover');\r\n                KTUtil.removeClass(item, 'menu-item-active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'menu-item-hover');\r\n\r\n            // Change the alignment of submenu is offscreen.\r\n            var submenu = KTUtil.find(item, '.menu-submenu');\r\n\r\n            if (submenu && submenu.hasAttribute('data-hor-direction') === false) {\r\n                if (KTUtil.hasClass(submenu, 'menu-submenu-left')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-left');\r\n                } else if (KTUtil.hasClass(submenu, 'menu-submenu-right')) {\r\n                    submenu.setAttribute('data-hor-direction', 'menu-submenu-right');\r\n                }\r\n            }\r\n\r\n            if ( submenu && KTUtil.isOffscreen(submenu, 'left', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-left');\r\n                KTUtil.addClass(submenu, 'menu-submenu-right');\r\n            } else if ( submenu && KTUtil.isOffscreen(submenu, 'right', 15) === true ) {\r\n                KTUtil.removeClass(submenu, 'menu-submenu-right');\r\n                KTUtil.addClass(submenu, 'menu-submenu-left');\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.menu-item-active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'menu-item-active');\r\n                KTUtil.hide( KTUtil.child(el, '.menu-submenu') );\r\n                parents = KTUtil.parents(el, '.menu-item-submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'menu-item-open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.menu-submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.menu-item-open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'menu-item-open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(parents[i], 'menu-item-open');\r\n            }\r\n\r\n            KTUtil.addClass(item, 'menu-item-active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.menu-link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.menu-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.menu-link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.getByTagName('body')[0];\r\n    var query;\r\n    if ( query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.menu-nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport default KTMenu;"],"mappings":"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"},"metadata":{},"sourceType":"module"}