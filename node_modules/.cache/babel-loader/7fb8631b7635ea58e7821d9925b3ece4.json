{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Saeed\\\\Desktop\\\\onlineShop\\\\src\\\\app\\\\modules\\\\ECommerce\\\\pages\\\\products\\\\product-specifications\\\\specification-edit-dialog\\\\SpecificationEditDialog.js\";\nimport React, { useEffect, useMemo } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../../../_redux/specifications/specificationsActions\";\nimport { SpecificationEditDialogHeader } from \"./SpecificationEditDialogHeader\";\nimport { SpecificationEditForm } from \"./SpecificationEditForm\";\nimport { useSpecificationsUIContext } from \"../SpecificationsUIContext\";\nexport function SpecificationEditDialog() {\n  // Specifications UI Context\n  var specsUIContext = useSpecificationsUIContext();\n  var specsUIProps = useMemo(function () {\n    return {\n      id: specsUIContext.selectedId,\n      show: specsUIContext.showEditSpecificationDialog,\n      onHide: specsUIContext.closeEditSpecificationDialog,\n      productId: specsUIContext.productId,\n      queryParams: specsUIContext.queryParams,\n      initSpecification: specsUIContext.initSpecification\n    };\n  }, [specsUIContext]);\n\n  // Specifications Redux state\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return {\n        actionsLoading: state.specifications.actionsLoading,\n        specificationForEdit: state.specifications.specificationForEdit\n      };\n    }, shallowEqual),\n    actionsLoading = _useSelector.actionsLoading,\n    specificationForEdit = _useSelector.specificationForEdit;\n  useEffect(function () {\n    // server request for getting spec by seleted id\n    dispatch(actions.fetchSpecification(specsUIProps.id));\n  }, [specsUIProps.id, dispatch]);\n  var saveSpecification = function saveSpecification(specification) {\n    if (!specsUIProps.id) {\n      dispatch(actions.createSpecification(specification)).then(function () {\n        dispatch(actions.fetchSpecifications(specsUIProps.queryParams, specsUIProps.productId)).then(function () {\n          return specsUIProps.onHide();\n        });\n      });\n    } else {\n      dispatch(actions.updateSpecification(specification)).then(function () {\n        dispatch(actions.fetchSpecifications(specsUIProps.queryParams, specsUIProps.productId)).then(function () {\n          return specsUIProps.onHide();\n        });\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: specsUIProps.show,\n    onHide: specsUIProps.onHide,\n    \"aria-labelledby\": \"example-modal-sizes-title-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SpecificationEditDialogHeader, {\n    id: specsUIProps.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SpecificationEditForm, {\n    saveSpecification: saveSpecification,\n    actionsLoading: actionsLoading,\n    specification: specificationForEdit || specsUIProps.initSpecification,\n    onHide: specsUIProps.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useMemo","Modal","shallowEqual","useDispatch","useSelector","actions","SpecificationEditDialogHeader","SpecificationEditForm","useSpecificationsUIContext","SpecificationEditDialog","specsUIContext","specsUIProps","id","selectedId","show","showEditSpecificationDialog","onHide","closeEditSpecificationDialog","productId","queryParams","initSpecification","dispatch","_useSelector","state","actionsLoading","specifications","specificationForEdit","fetchSpecification","saveSpecification","specification","createSpecification","then","fetchSpecifications","updateSpecification","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/Saeed/Desktop/onlineShop/src/app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditDialog.js"],"sourcesContent":["import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../../_redux/specifications/specificationsActions\";\r\nimport { SpecificationEditDialogHeader } from \"./SpecificationEditDialogHeader\";\r\nimport { SpecificationEditForm } from \"./SpecificationEditForm\";\r\nimport { useSpecificationsUIContext } from \"../SpecificationsUIContext\";\r\n\r\nexport function SpecificationEditDialog() {\r\n  // Specifications UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      id: specsUIContext.selectedId,\r\n      show: specsUIContext.showEditSpecificationDialog,\r\n      onHide: specsUIContext.closeEditSpecificationDialog,\r\n      productId: specsUIContext.productId,\r\n      queryParams: specsUIContext.queryParams,\r\n      initSpecification: specsUIContext.initSpecification,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specifications Redux state\r\n  const dispatch = useDispatch();\r\n  const { actionsLoading, specificationForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.specifications.actionsLoading,\r\n      specificationForEdit: state.specifications.specificationForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    // server request for getting spec by seleted id\r\n    dispatch(actions.fetchSpecification(specsUIProps.id));\r\n  }, [specsUIProps.id, dispatch]);\r\n\r\n  const saveSpecification = (specification) => {\r\n    if (!specsUIProps.id) {\r\n      dispatch(actions.createSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    } else {\r\n      dispatch(actions.updateSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <SpecificationEditDialogHeader id={specsUIProps.id} />\r\n      <SpecificationEditForm\r\n        saveSpecification={saveSpecification}\r\n        actionsLoading={actionsLoading}\r\n        specification={specificationForEdit || specsUIProps.initSpecification}\r\n        onHide={specsUIProps.onHide}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}