{"ast":null,"code":"import * as requestFromServer from \"./productsCrud\";\nimport { productsSlice, callTypes } from \"./productsSlice\";\nvar actions = productsSlice.actions;\nexport var fetchProducts = function fetchProducts(queryParams) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.list\n    }));\n    return requestFromServer.findProducts(queryParams).then(function (response) {\n      var _response$data = response.data,\n        totalCount = _response$data.totalCount,\n        entities = _response$data.entities;\n      dispatch(actions.productsFetched({\n        totalCount: totalCount,\n        entities: entities\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't find products\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.list\n      }));\n    });\n  };\n};\nexport var fetchProduct = function fetchProduct(id) {\n  return function (dispatch) {\n    if (!id) {\n      return dispatch(actions.productFetched({\n        productForEdit: undefined\n      }));\n    }\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.getProductById(id).then(function (response) {\n      var product = response.data;\n      dispatch(actions.productFetched({\n        productForEdit: product\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't find product\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};\nexport var deleteProduct = function deleteProduct(id) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.deleteProduct(id).then(function (response) {\n      dispatch(actions.productDeleted({\n        id: id\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't delete product\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};\nexport var createProduct = function createProduct(productForCreation) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.createProduct(productForCreation).then(function (response) {\n      var product = response.data.product;\n      dispatch(actions.productCreated({\n        product: product\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't create product\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};\nexport var updateProduct = function updateProduct(product) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.updateProduct(product).then(function () {\n      dispatch(actions.productUpdated({\n        product: product\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't update product\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};\nexport var updateProductsStatus = function updateProductsStatus(ids, status) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.updateStatusForProducts(ids, status).then(function () {\n      dispatch(actions.productsStatusUpdated({\n        ids: ids,\n        status: status\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't update products status\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};\nexport var deleteProducts = function deleteProducts(ids) {\n  return function (dispatch) {\n    dispatch(actions.startCall({\n      callType: callTypes.action\n    }));\n    return requestFromServer.deleteProducts(ids).then(function () {\n      dispatch(actions.productsDeleted({\n        ids: ids\n      }));\n    }).catch(function (error) {\n      error.clientMessage = \"Can't delete products\";\n      dispatch(actions.catchError({\n        error: error,\n        callType: callTypes.action\n      }));\n    });\n  };\n};","map":{"version":3,"names":["requestFromServer","productsSlice","callTypes","actions","fetchProducts","queryParams","dispatch","startCall","callType","list","findProducts","then","response","_response$data","data","totalCount","entities","productsFetched","catch","error","clientMessage","catchError","fetchProduct","id","productFetched","productForEdit","undefined","action","getProductById","product","deleteProduct","productDeleted","createProduct","productForCreation","productCreated","updateProduct","productUpdated","updateProductsStatus","ids","status","updateStatusForProducts","productsStatusUpdated","deleteProducts","productsDeleted"],"sources":["C:/Users/Saeed/Desktop/onlineShop/src/app/modules/ECommerce/_redux/products/productsActions.js"],"sourcesContent":["import * as requestFromServer from \"./productsCrud\";\r\nimport {productsSlice, callTypes} from \"./productsSlice\";\r\n\r\nconst {actions} = productsSlice;\r\n\r\nexport const fetchProducts = queryParams => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.list }));\r\n  return requestFromServer\r\n    .findProducts(queryParams)\r\n    .then(response => {\r\n      const { totalCount, entities } = response.data;\r\n      dispatch(actions.productsFetched({ totalCount, entities }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find products\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const fetchProduct = id => dispatch => {\r\n  if (!id) {\r\n    return dispatch(actions.productFetched({ productForEdit: undefined }));\r\n  }\r\n\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .getProductById(id)\r\n    .then(response => {\r\n      const product = response.data;\r\n      dispatch(actions.productFetched({ productForEdit: product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteProduct = id => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteProduct(id)\r\n    .then(response => {\r\n      dispatch(actions.productDeleted({ id }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createProduct = productForCreation => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .createProduct(productForCreation)\r\n    .then(response => {\r\n      const { product } = response.data;\r\n      dispatch(actions.productCreated({ product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't create product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateProduct = product => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateProduct(product)\r\n    .then(() => {\r\n      dispatch(actions.productUpdated({ product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateProductsStatus = (ids, status) => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateStatusForProducts(ids, status)\r\n    .then(() => {\r\n      dispatch(actions.productsStatusUpdated({ ids, status }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update products status\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteProducts = ids => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteProducts(ids)\r\n    .then(() => {\r\n      dispatch(actions.productsDeleted({ ids }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete products\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}